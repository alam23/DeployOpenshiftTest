apiVersion: tekton.dev/v1beta1
kind: Task
metadata:
  name: quarkus-build-native
spec:
  params:
    - name: QUARKUS_IMAGE
      type: string
      default: 'quay.io/repository/quarkus/ubi-quarkus-graalvmce-builder-image:22.3-java17'
  workspaces:
    - name: source
  steps:
    - name: maven-package
      image: "$(params.QUARKUS_IMAGE)"
      workingDir: /workspace/source
      script: |
        #!/bin/bash
        set -e
        ./mvnw package -Dnative